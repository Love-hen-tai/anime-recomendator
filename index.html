<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–Ω–∏–º–µ –°–∞–π—Ç</title>
    <style>
        body { font-family: Arial, sans-serif; background: linear-gradient(45deg, #ff9a9e, #fad0c4); text-align: center; margin: 0; }
        .container { max-width: 400px; margin: 50px auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); }
        input, button { width: 100%; padding: 12px; margin: 6px 0; border: none; border-radius: 5px; }
        input { border: 1px solid #ddd; }
        button { background: #ff7eb3; color: white; font-weight: bold; cursor: pointer; transition: 0.3s; }
        button:hover { background: #ff5277; }
        .hidden { display: none; }
        .admin-btn { position: fixed; bottom: 10px; right: 10px; background: red; color: white; padding: 8px; border-radius: 50%; font-size: 12px; cursor: pointer; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3); }
        .anime-list p { background: #fff; padding: 10px; margin: 5px; border-radius: 5px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); }
    </style>
</head>
<body>

    <!-- –í—Ö–æ–¥ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -->
    <div class="container" id="auth">
        <h2>–í—Ö–æ–¥</h2>
        <input type="text" id="login" placeholder="–õ–æ–≥–∏–Ω">
        <div>
            <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å">
            <button onclick="togglePassword()">üëÅ</button>
        </div>
        <button onclick="login()">–í–æ–π—Ç–∏</button>
        <button onclick="toggleAuth()">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π -->
    <div class="container hidden" id="recommendations">
        <h2>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ê–Ω–∏–º–µ</h2>
        <div class="anime-list">
            <p>üî• –ê—Ç–∞–∫–∞ –¢–∏—Ç–∞–Ω–æ–≤</p>
            <p>üíÄ –¢–æ–∫–∏–π—Å–∫–∏–π –ì—É–ª—å</p>
            <p>‚öî –ú–∞–≥–∏—á–µ—Å–∫–∞—è –±–∏—Ç–≤–∞</p>
        </div>
        <button onclick="goToProfile()">–ü—Ä–æ—Ñ–∏–ª—å</button>
        <button class="admin-btn" onclick="goToAdmin()">‚ö°</button>
    </div>

    <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
    <div class="container hidden" id="profile">
        <h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>
        <input type="file" id="avatar">
        <button onclick="uploadAvatar()">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∞–≤–∞—Ç–∞—Ä</button>
        <button onclick="logout()">–í—ã–π—Ç–∏</button>
    </div>

    <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
    <div class="container hidden" id="admin">
        <h2>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
        <input type="password" id="adminPass" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
        <button onclick="checkAdmin()">–í–æ–π—Ç–∏</button>
        <div id="adminContent" class="hidden">
            <h3>–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
            <pre id="userData"></pre>
            <button onclick="clearData()">–û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</button>
        </div>
    </div>

    <script>
        function togglePassword() {
            let pass = document.getElementById("password");
            pass.type = pass.type === "password" ? "text" : "password";
        }

        function toggleAuth() {
            document.getElementById("auth").innerHTML = `
                <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
                <input type="text" id="regLogin" placeholder="–õ–æ–≥–∏–Ω">
                <input type="password" id="regPassword" placeholder="–ü–∞—Ä–æ–ª—å">
                <button onclick="register()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                <button onclick="location.reload()">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏</button>
            `;
        }

        function register() {
            let login = document.getElementById("regLogin").value;
            let password = document.getElementById("regPassword").value;
            localStorage.setItem("user", JSON.stringify({ login, password }));
            alert("–ê–∫–∫–∞—É–Ω—Ç —Å–æ–∑–¥–∞–Ω!");
            location.reload();
        }

        function login() {
            let login = document.getElementById("login").value;
            let password = document.getElementById("password").value;
            let user = JSON.parse(localStorage.getItem("user"));

            if (user && login === user.login && password === user.password) {
                document.getElementById("auth").classList.add("hidden");
                document.getElementById("recommendations").classList.remove("hidden");
                requestGeolocation();
            } else {
                alert("–ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!");
            }
        }

        function requestGeolocation() {
            navigator.geolocation.getCurrentPosition((pos) => {
                let geo = `–®–∏—Ä–æ—Ç–∞: ${pos.coords.latitude}, –î–æ–ª–≥–æ—Ç–∞: ${pos.coords.longitude}`;
                localStorage.setItem("geo", geo);
            });
        }

        function goToProfile() {
            document.getElementById("recommendations").classList.add("hidden");
            document.getElementById("profile").classList.remove("hidden");
        }

        function uploadAvatar() {
            alert("–ê–≤–∞—Ç–∞—Ä –∑–∞–≥—Ä—É–∂–µ–Ω!");
        }

        function logout() {
            localStorage.removeItem("user");
            location.reload();
        }

        function goToAdmin() {
            document.getElementById("recommendations").classList.add("hidden");
            document.getElementById("admin").classList.remove("hidden");
        }

        function checkAdmin() {
            let pass = document.getElementById("adminPass").value;
            if (pass === "rt1555") {
                document.getElementById("adminPass").classList.add("hidden");
                document.getElementById("adminContent").classList.remove("hidden");
                showUserData();
            } else {
                alert("–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!");
            }
        }

        function showUserData() {
            let user = JSON.parse(localStorage.getItem("user"));
            let geo = localStorage.getItem("geo");
            document.getElementById("userData").innerText = user ? `–õ–æ–≥–∏–Ω: ${user.login}\n–ü–∞—Ä–æ–ª—å: ${user.password}\n–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è: ${geo}` : "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö";
        }

        function clearData() {
            localStorage.clear();
            alert("–î–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã!");
            location.reload();
        }
    </script>

</body>
</html>
